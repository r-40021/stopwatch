(()=>{"use strict";function e(){const e=document.getElementById("displayTime");let t=document.getElementById("displayHour").textContent.length+document.getElementById("displaySmall").textContent.length;t<10&&(t=10),window.innerWidth<=775?e.style.fontSize=210/t+"vmin":e.style.fontSize=230/t+"vmin"}let t,n,o,d,l=0;function a(){let e=Date.now();o=e-t+l;var n=Math.floor(o/36e5),a=Math.floor((o-1e3*n*60*60)/6e4),i=Math.floor((o-1e3*n*60*60-1e3*a*60)/1e3),r=o-1e3*n*60*60-1e3*a*60-1e3*i;if(a<10&&(a="0"+a),i<10&&(i="0"+i),r<100&&(r=r<10?"00"+r:"0"+r),0!==Number(n))var m=n+":"+a+":"+i;else 0===Number(n)?m=a+":"+i:(alert("エラーが発生しました。\n時間の計算に失敗しました。"),c());d!=m&&(document.getElementById("displayHour").textContent=m,d=m),document.getElementById("displayMil").textContent=r}function c(){clearInterval(n),document.getElementById("stop").style.display="",document.getElementById("start").style.display="",l=o}const i=window.matchMedia("(prefers-color-scheme: dark)");let r,m;function s(e){clearInterval(r),document.body.classList.add("anime");let t=document.getElementById("sync"),n=document.getElementById("light"),o=document.getElementById("dark");function d(e){let t;"dark"===e?(t="#333",document.getElementById("openSun").style.display="none",document.getElementById("openMoon").style.display="initial"):(t="#f8f9fa",document.getElementById("openSun").style.display="initial",document.getElementById("openMoon").style.display="none");let n=document.head.children;for(let e=0;e<n.length;e++)if("theme-color"===n[e].getAttribute("name")){n[e].setAttribute("content",t);break}}m?"d"===e?(document.body.classList.add("dark"),d("dark"),u(),o.setAttribute("checked",null),localStorage.setItem("theme","dark")):"l"===e?(document.body.classList.remove("dark"),d("light"),u(),n.setAttribute("checked",null),localStorage.setItem("theme","light")):"a"===e&&(i.matches?(document.body.classList.add("dark"),d("dark"),localStorage.setItem("theme","auto")):(document.body.classList.remove("dark"),d("light"),localStorage.setItem("theme","auto")),u(),t.setAttribute("checked",null)):!i.matches&&"d"!==e||"l"===e?(document.body.classList.remove("dark"),d("light"),"l"===e?(u(),n.setAttribute("checked",null),localStorage.setItem("theme","light")):localStorage.setItem("theme","auto")):(document.body.classList.add("dark"),d("dark"),"d"===e?(u(),o.setAttribute("checked",null),localStorage.setItem("theme","dark")):localStorage.setItem("theme","auto")),"d"===e||"l"===e?m=1:"a"===e&&(m=0),r=setInterval((()=>{document.body.classList.remove("anime")}),400)}function u(){document.querySelectorAll(".radio input").forEach((function(e){e.removeAttribute("checked")}))}e(),window.addEventListener("resize",e,!1),document.getElementById("start").addEventListener("click",(function(){t=Date.now(),n=setInterval(a,1),document.getElementById("start").style.display="none",document.getElementById("stop").style.display="inline-flex"}),!1),document.getElementById("stop").addEventListener("click",c,!1),document.getElementById("clear").addEventListener("click",(function(){l=0,t=Date.now(),document.getElementById("displayHour").textContent="00:00",document.getElementById("displayMil").textContent="000"}),!1);const y=window.matchMedia("(prefers-color-scheme: dark)");"dark"===localStorage.getItem("theme")?s("d"):"light"===localStorage.getItem("theme")?s("l"):"auto"===localStorage.getItem("theme")?s("a"):s(y);let h=document.getElementById("sync"),g=document.getElementById("light"),I=document.getElementById("dark");h.addEventListener("click",(()=>{h.checked&&s("a")}),!1),g.addEventListener("click",(()=>{g.checked&&s("l")}),!1),I.addEventListener("click",(()=>{I.checked&&s("d")}),!1);try{y.addEventListener("change",s)}catch(e){try{y.addListener(s)}catch(e){console.error(e)}}!function(){const e=window.navigator.userAgent.toLowerCase();var t=document.getElementById("arrowUp"),n=document.getElementById("shareAndroid");-1!==e.indexOf("android")||-1!==e.indexOf("linux")&&"ontouchstart"in document?(t.remove(),n.style.display="initial"):n.remove()}(),window.copy=function(){var e=location.href.replace(location.hash,"");navigator.clipboard.writeText(e),alert("URLをコピーしました")},window.tweet=function(){let e;return e="https://twitter.com/intent/tweet?text=シンプルすぎるストップウォッチ%0a&hashtags=やまだのタイマー,やまだけんいち&url="+encodeURIComponent(location.href.replace(location.hash,"")),e}})();