(()=>{"use strict";function e(){const e=document.getElementById("displayTime");let t=document.getElementById("displayHour").textContent.length+document.getElementById("displaySmall").textContent.length;t<10&&(t=10),window.innerWidth<=775?e.style.fontSize=210/t+"vmin":e.style.fontSize=230/t+"vmin"}let t,n,d,l,o=0;function a(){let e=Date.now();d=e-t+o;var n=Math.floor(d/36e5),a=Math.floor((d-1e3*n*60*60)/6e4),m=Math.floor((d-1e3*n*60*60-1e3*a*60)/1e3),r=d-1e3*n*60*60-1e3*a*60-1e3*m;if(a<10&&(a="0"+a),m<10&&(m="0"+m),r<100&&(r=r<10?"00"+r:"0"+r),0!==Number(n))var s=n+":"+a+":"+m;else 0===Number(n)?s=a+":"+m:(alert("エラーが発生しました。\n時間の計算に失敗しました。"),c());l!=s&&(document.getElementById("displayHour").textContent=s,l=s),document.getElementById("displayMil").textContent=r}function c(){clearInterval(n),document.getElementById("stop").style.display="",document.getElementById("start").style.display="",o=d}const m=window.matchMedia("(prefers-color-scheme: dark)");let r,s;function i(e){clearInterval(r),document.body.classList.add("anime");let t=document.getElementById("sync"),n=document.getElementById("light"),d=document.getElementById("dark");function l(e){let t;t="dark"===e?"#333":"#f8f9fa";let n=document.head.children;for(let e=0;e<n.length;e++)if("theme-color"===n[e].getAttribute("name")){n[e].setAttribute("content",t);break}}s?"d"===e?(document.body.classList.add("dark"),l("dark"),u(),d.setAttribute("checked",null),localStorage.setItem("theme","dark")):"l"===e?(document.body.classList.remove("dark"),l("light"),u(),n.setAttribute("checked",null),localStorage.setItem("theme","light")):"a"===e&&(m.matches?(document.body.classList.add("dark"),l("dark"),localStorage.setItem("theme","auto")):(document.body.classList.remove("dark"),l("light"),localStorage.setItem("theme","auto")),u(),t.setAttribute("checked",null)):!m.matches&&"d"!==e||"l"===e?(document.body.classList.remove("dark"),l("light"),"l"===e?(u(),n.setAttribute("checked",null),localStorage.setItem("theme","light")):localStorage.setItem("theme","auto")):(document.body.classList.add("dark"),l("dark"),"d"===e?(u(),d.setAttribute("checked",null),localStorage.setItem("theme","dark")):localStorage.setItem("theme","auto")),"d"===e||"l"===e?s=1:"a"===e&&(s=0),r=setInterval((()=>{document.body.classList.remove("anime")}),400)}function u(){document.querySelectorAll("#settings-3 .radio input").forEach((function(e){e.removeAttribute("checked")}))}e(),window.addEventListener("resize",e,!1),document.getElementById("start").addEventListener("click",(function(){t=Date.now(),n=setInterval(a,1),document.getElementById("start").style.display="none",document.getElementById("stop").style.display="inline-flex"}),!1),document.getElementById("stop").addEventListener("click",c,!1),document.getElementById("clear").addEventListener("click",(function(){o=0,t=Date.now(),document.getElementById("displayHour").textContent="00:00",document.getElementById("displayMil").textContent="000"}),!1);const y=window.matchMedia("(prefers-color-scheme: dark)");"dark"===localStorage.getItem("theme")?i("d"):"light"===localStorage.getItem("theme")?i("l"):"auto"===localStorage.getItem("theme")?i("a"):i(y);let g=document.getElementById("sync"),h=document.getElementById("light"),I=document.getElementById("dark");g.addEventListener("click",(()=>{g.checked&&i("a")}),!1),h.addEventListener("click",(()=>{h.checked&&i("l")}),!1),I.addEventListener("click",(()=>{I.checked&&i("d")}),!1);try{y.addEventListener("change",i)}catch(e){try{y.addListener(i)}catch(e){console.error(e)}}})();